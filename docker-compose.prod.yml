version: '3'

services:

  # Laravel service
  backend:
    build: ./backend
    container_name: powerclonic-api
    ports:
      - "7000:80"
    volumes:
      - "./backend:/var/www/html"
    networks:
      - powerclonic-network

  # Node service
  frontend:
    build:
      context: frontend
      dockerfile: Dockerfile.prod
    volumes:
      - "./frontend:/app"
    container_name: powerclonic-frontend
    ports: 
      - "7070:80"
    networks:
      - powerclonic-network
    args:
      - VUE_APP_BASE_API: "https://api.powerclonic.xyz"

networks:
  powerclonic-network:
    driver: bridge

